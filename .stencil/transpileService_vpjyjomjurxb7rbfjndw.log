{"moduleFile":{"sourceFilePath":"/Users/alexchen/Desktop/HackNYU-2020/src/components/wallet/methods/parseBalances.ts","jsFilePath":"/Users/alexchen/Desktop/HackNYU-2020/src/components/wallet/methods/parseBalances.js","cmps":[],"coreRuntimeApis":[],"collectionName":null,"dtsFilePath":null,"excludeFromCollection":false,"externalImports":["@services/error"],"hasVdomAttribute":false,"hasVdomXlink":false,"hasVdomClass":false,"hasVdomFunctional":false,"hasVdomKey":false,"hasVdomListener":false,"hasVdomPropOrAttr":false,"hasVdomRef":false,"hasVdomRender":false,"hasVdomStyle":false,"hasVdomText":false,"htmlAttrNames":[],"htmlTagNames":[],"isCollectionDependency":false,"isLegacy":false,"localImports":[],"originalCollectionComponentPath":null,"originalImports":["@services/error"],"potentialCmpRefs":[]},"jsText":"import { handleError } from '@services/error';\r\n// Truncate decimal strings\r\nfunction tdr(str) {\r\n    for (var i = 0; i < str.length; i++) {\r\n        if (str[i] == '.') {\r\n            return str.slice(0, i + 3);\r\n        }\r\n    }\r\n}\r\nexport default async function viewBalances() {\r\n    try {\r\n        // var balances_json = JSON.stringify(this.account.state, null, 2);\r\n        var cur_balance = \"\";\r\n        var cur_asset_code = \"\";\r\n        var cur_asset_issuer = \"\";\r\n        var text = \"\";\r\n        console.log(this.account.state.balances);\r\n        for (var i = 0; i < this.account.state.balances.length; i++) {\r\n            console.log(this.account.state.balances[i]);\r\n            console.log(this.account.state.balances[i]['asset_type'] == null);\r\n            if (this.account.state.balances[i]['asset_type'] == null) {\r\n                // Balance from certain issuer\r\n                cur_balance = this.account.state.balances[i]['balance'];\r\n                cur_asset_code = this.account.state.balances[i]['asset_code'];\r\n                cur_asset_issuer = this.account.state.balances[i]['asset_issuer'];\r\n                text = \"Current balance of \" + cur_asset_code + \" from \" + cur_asset_issuer.slice(0, 4) + \" is \" + tdr(cur_balance) + \".\\n\" + text;\r\n            }\r\n            else {\r\n                // Balance from initial beginning, native\r\n                cur_balance = this.account.state.balances[i]['balance'];\r\n                text = \"Current balance of native starting currency is \" + tdr(cur_balance) + \".\\n\" + text;\r\n            }\r\n        }\r\n        alert(text);\r\n        // console.log(document.getElementById('account-state-text'));\r\n        // var element: HTMLElement = document.getElementById('account-state-text') as HTMLElement\r\n        // element.innerHTML = 'Hello World'\r\n        // console.log(element);\r\n        // console.log(\"WTF\");\r\n    }\r\n    catch (err) {\r\n        this.error = handleError(err);\r\n    }\r\n}\r\n"}